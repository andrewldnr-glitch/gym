<!DOCTYPE html>
<html lang="ru" data-theme="dark">
<head>
  <meta charset="UTF-8" />
    <script src="js/theme-preload.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>–ü—Ä–∏–≤—ã—á–∫–∏</title>

  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/habits.css" />

  <!-- ‚úÖ –ï–¥–∏–Ω–∞—è —Ç–µ–º–∞ –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è -->
  <script src="js/theme.js"></script>

  <!-- ‚úÖ Lucide CDN -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
<!-- Monochrome premium layer -->
  <link rel="stylesheet" href="css/mono.tokens.css" />
  <link rel="stylesheet" href="css/mono.components.css" />
</head>

<body class="has-tab-bar mono">
  <div class="container">

    <a href="profile.html" class="btn-back">
      <i data-lucide="chevron-left"></i>
      –ù–∞–∑–∞–¥
    </a>

    <div class="page-head">
      <h1 class="page-title">
        <span class="section-title__icon"><i data-lucide="calendar-check"></i></span>
        –ü—Ä–∏–≤—ã—á–∫–∏
      </h1>
      <p class="page-subtitle">–û—Ç–º–µ—á–∞–π—Ç–µ –ø—Ä–∏–≤—ã—á–∫–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ ‚Äî –∫–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ–∫–∞–∂–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å.</p>
    </div>

    <!-- –°–µ–≥–æ–¥–Ω—è -->
    <div class="card today-card">
      <div class="today-head">
        <div>
          <div class="today-title">–°–µ–≥–æ–¥–Ω—è</div>
          <div class="today-date" id="today-date">‚Äî</div>
        </div>
        <button id="btn-mark-all" type="button" class="pill-btn btn-state-neutral">–û—Ç–º–µ—Ç–∏—Ç—å –≤—Å—ë</button>
      </div>

      <div id="today-habits" class="habit-list"></div>

      <div id="today-empty" class="empty-state">
        <div class="empty-title">–ü–æ–∫–∞ –Ω–µ—Ç –ø—Ä–∏–≤—ã—á–µ–∫</div>
        <div class="empty-desc">–î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –ø—Ä–∏–≤—ã—á–∫—É, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –≤–µ—Å—Ç–∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å.</div>
      </div>
    </div>

    <!-- –ö–∞–ª–µ–Ω–¥–∞—Ä—å -->
    <div class="card calendar-card">
      <div class="calendar-head">
        <button id="btn-prev-month" type="button" class="icon-btn btn-state-neutral" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü">
          <i data-lucide="chevron-left"></i>
        </button>

        <div class="calendar-month" id="calendar-month">‚Äî</div>

        <button id="btn-next-month" type="button" class="icon-btn btn-state-neutral" aria-label="–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü">
          <i data-lucide="chevron-right"></i>
        </button>
      </div>

      <div class="calendar-grid" id="calendar-grid">
        <!-- JS -->
      </div>

      <div class="calendar-legend">
        <span class="legend-dot" data-level="0"></span>
        <span>0%</span>
        <span class="legend-dot" data-level="2"></span>
        <span>~50%</span>
        <span class="legend-dot" data-level="4"></span>
        <span>100%</span>
      </div>
    </div>

    <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤—ã—á–∫–∞–º–∏ -->
    <div class="card manage-card">
      <div class="manage-head">
        <div>
          <div class="manage-title">–ú–æ–∏ –ø—Ä–∏–≤—ã—á–∫–∏</div>
          <div class="manage-desc">–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –ø—Ä–∏–≤—ã—á–∫–∏ ‚Äî –æ—Ç–º–µ—Ç–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –ø–æ –¥–Ω—è–º.</div>
        </div>
        <button id="btn-add-habit" type="button" class="pill-btn btn-state-primary">
          <i data-lucide="plus"></i>
          –î–æ–±–∞–≤–∏—Ç—å
        </button>
      </div>

      <div id="habits-manage-list" class="manage-list"></div>
    </div>

  </div>

  <!-- Day modal -->
  <div id="day-modal" class="modal-backdrop" aria-hidden="true">
    <div class="modal">
      <div class="modal-head">
        <div>
          <div class="modal-title">–û—Ç–º–µ—Ç–∫–∏</div>
          <div class="modal-subtitle" id="day-modal-date">‚Äî</div>
        </div>
        <button id="btn-close-day" type="button" class="icon-btn btn-state-neutral" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          <i data-lucide="x"></i>
        </button>
      </div>

      <div id="day-modal-list" class="habit-list"></div>

      <button id="btn-clear-day" type="button" class="pill-btn btn-state-neutral" style="width:100%; margin-top:10px;">
        –û—á–∏—Å—Ç–∏—Ç—å –æ—Ç–º–µ—Ç–∫–∏ –¥–Ω—è
      </button>
    </div>
  </div>

  <!-- Add habit modal -->
  <div id="habit-modal" class="modal-backdrop" aria-hidden="true">
    <div class="modal">
      <div class="modal-head">
        <div>
          <div class="modal-title">–ù–æ–≤–∞—è –ø—Ä–∏–≤—ã—á–∫–∞</div>
          <div class="modal-subtitle">–ù–∞–∑–≤–∞–Ω–∏–µ –∏ —ç–º–æ–¥–∑–∏ (–ø–æ –∂–µ–ª–∞–Ω–∏—é)</div>
        </div>
        <button id="btn-close-habit" type="button" class="icon-btn btn-state-neutral" aria-label="–ó–∞–∫—Ä—ã—Ç—å">
          <i data-lucide="x"></i>
        </button>
      </div>

      <label class="field">
        <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
        <input id="habit-name" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –í–æ–¥–∞" maxlength="28" />
      </label>

      <label class="field">
        <span>–≠–º–æ–¥–∑–∏</span>
        <input id="habit-emoji" type="text" placeholder="üíß" maxlength="4" />
      </label>

      <button id="btn-save-habit" type="button" class="btn-main" style="margin-top:12px;">
        –°–æ—Ö—Ä–∞–Ω–∏—Ç—å
      </button>
    </div>
  </div>

<script src="js/ui/toast.js"></script>
<script src="js/habits.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      try { if (window.lucide) lucide.createIcons(); } catch (_) {}
    });
  </script>

  <script src="js/ui/modal.js"></script>
  <script src="js/ui/bottom-nav.js"></script>
</body>
</html>
