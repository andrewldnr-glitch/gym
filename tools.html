<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>–°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∏ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</title>
  <link rel="stylesheet" href="css/style.css">
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  
  <!-- –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä–æ–≤ –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
  <style>
    .calc-input { 
        width: 100%; 
        background: rgba(255,255,255,0.05); 
        border: 1px solid var(--border-light); 
        color: var(--text-primary); 
        padding: 12px; 
        border-radius: 10px; 
        margin-bottom: 10px; 
        font-size: 1rem;
    }
    .calc-row { display: flex; gap: 10px; }
    .calc-row .calc-input { flex: 1; }
    .calc-select {
        width: 100%; 
        background: rgba(255,255,255,0.05); 
        border: 1px solid var(--border-light); 
        color: var(--text-primary); 
        padding: 12px; 
        border-radius: 10px; 
        margin-bottom: 10px;
    }
    .calc-btn {
        width: 100%; padding: 14px; 
        background: linear-gradient(90deg, var(--accent-tertiary), #2563eb);
        color: white; border: none; border-radius: 12px; 
        font-weight: 600; cursor: pointer; margin-top: 10px;
    }
    .result-box {
        margin-top: 20px; background: rgba(255,255,255,0.05); 
        padding: 15px; border-radius: 12px; display: none;
    }
    .result-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; text-align: center; margin-top: 10px; }
    .result-item-value { font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); }
    .result-item-label { font-size: 0.8rem; color: var(--text-secondary); }
    .tab-buttons { display: flex; gap: 10px; margin-bottom: 20px; }
    .tab-btn { flex: 1; padding: 10px; background: rgba(255,255,255,0.05); border: none; color: var(--text-secondary); border-radius: 10px; cursor: pointer; }
    .tab-btn.active { background: rgba(255,255,255,0.1); color: var(--text-primary); }
    .section-group { margin-bottom: 30px; }
  </style>
</head>
<body class="has-tab-bar">
  <div class="container">
    <h2>üõ† –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h2>

    <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–∞–∑–¥–µ–ª–æ–≤ -->
    <div class="tab-buttons">
        <button class="tab-btn active" onclick="showCalc('tdee')">–ö–∞–ª–æ—Ä–∏–∏</button>
        <button class="tab-btn" onclick="showCalc('bmi')">–ò–ú–¢</button>
        <button class="tab-btn" onclick="showCalc('info')">–°–ø—Ä–∞–≤–∫–∞</button>
    </div>

    <!-- 1. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ö–∞–ª–æ—Ä–∏–π -->
    <div id="section-tdee" class="section-group">
        <div class="info-card">
            <h3>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ö–ë–ñ–£</h3>
            <p style="margin-bottom: 15px;">–†–∞—Å—Å—á–∏—Ç–∞–π—Ç–µ —Å—É—Ç–æ—á–Ω—É—é –Ω–æ—Ä–º—É –∫–∞–ª–æ—Ä–∏–π –∏ –Ω—É—Ç—Ä–∏–µ–Ω—Ç–æ–≤ –¥–ª—è –≤–∞—à–µ–π —Ü–µ–ª–∏.</p>
            
            <select id="calc-gender" class="calc-select">
                <option value="male">–ú—É–∂—á–∏–Ω–∞</option>
                <option value="female">–ñ–µ–Ω—â–∏–Ω–∞</option>
            </select>
            
            <div class="calc-row">
                <input type="number" id="calc-age" class="calc-input" placeholder="–í–æ–∑—Ä–∞—Å—Ç">
                <input type="number" id="calc-height" class="calc-input" placeholder="–†–æ—Å—Ç (—Å–º)">
            </div>
            <input type="number" id="calc-weight" class="calc-input" placeholder="–í–µ—Å (–∫–≥)">
            
            <select id="calc-activity" class="calc-select">
                <option value="1.2">–ú–∞–ª–æ–ø–æ–¥–≤–∏–∂–Ω—ã–π –æ–±—Ä–∞–∑ –∂–∏–∑–Ω–∏</option>
                <option value="1.375">–õ–µ–≥–∫–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (1-3 —Ä–∞–∑–∞)</option>
                <option value="1.55" selected>–°—Ä–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (3-5 —Ä–∞–∑)</option>
                <option value="1.725">–í—ã—Å–æ–∫–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (6-7 —Ä–∞–∑)</option>
            </select>
            
            <select id="calc-goal" class="calc-select">
                <option value="-500">–ü–æ—Ö—É–¥–µ–Ω–∏–µ (-500 –∫–∫–∞–ª)</option>
                <option value="0" selected>–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ –≤–µ—Å–∞</option>
                <option value="300">–ù–∞–±–æ—Ä –º–∞—Å—Å—ã (+300 –∫–∫–∞–ª)</option>
            </select>
            
            <button class="calc-btn" onclick="calculateTDEE()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
            
            <div id="calc-results" class="result-box">
                <div style="text-align:center; margin-bottom:10px;">–í–∞—à–∞ —Å—É—Ç–æ—á–Ω–∞—è –Ω–æ—Ä–º–∞:</div>
                <div style="font-size: 2rem; text-align:center; color:var(--accent-secondary);">
                    <span id="res-calories">0</span> <span style="font-size:1rem; color:var(--text-secondary);">–∫–∫–∞–ª</span>
                </div>
                <div class="result-grid">
                    <div>
                        <div class="result-item-value" id="res-protein">0–≥</div>
                        <div class="result-item-label">–ë–µ–ª–∫–∏</div>
                    </div>
                    <div>
                        <div class="result-item-value" id="res-fats">0–≥</div>
                        <div class="result-item-label">–ñ–∏—Ä—ã</div>
                    </div>
                    <div>
                        <div class="result-item-value" id="res-carbs">0–≥</div>
                        <div class="result-item-label">–£–≥–ª–µ–≤–æ–¥—ã</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 2. –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –ò–ú–¢ -->
    <div id="section-bmi" class="section-group" style="display:none;">
        <div class="info-card">
            <h3>–ò–Ω–¥–µ–∫—Å –ú–∞—Å—Å—ã –¢–µ–ª–∞ (–ò–ú–¢)</h3>
            <p style="margin-bottom: 15px;">–ë—ã—Å—Ç—Ä–∞—è –æ—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –≤–µ—Å–∞ –∏ —Ä–æ—Å—Ç–∞.</p>
            
            <input type="number" id="bmi-weight" class="calc-input" placeholder="–í–µ—Å (–∫–≥)">
            <input type="number" id="bmi-height" class="calc-input" placeholder="–†–æ—Å—Ç (—Å–º)">
            
            <button class="calc-btn" onclick="calculateBMI()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
            
            <div id="bmi-result" class="result-box">
                <div style="text-align:center;">
                    –í–∞—à –ò–ú–¢: <span id="bmi-value" style="font-size: 2rem; font-weight:700;">0</span>
                    <div id="bmi-category" style="font-size: 1.2rem; margin-top:5px;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
                </div>
            </div>
        </div>
    </div>

    <!-- 3. –°–ø—Ä–∞–≤–∫–∞ -->
    <div id="section-info" class="section-group" style="display:none;">
        <div class="info-card">
            <h3>–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —É—Ä–æ–≤–µ–Ω—å?</h3>
            <ul class="info-list">
                <li><span class="accent-text" style="color: var(--accent-secondary);">–ù–æ–≤–∏—á–æ–∫:</span> –ë–∞–∑–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è, –∞–∫—Ü–µ–Ω—Ç –Ω–∞ —Ç–µ—Ö–Ω–∏–∫—É.</li>
                <li><span class="accent-text" style="color: var(--accent-tertiary);">–°—Ä–µ–¥–Ω–∏–π:</span> –°–ø–ª–∏—Ç-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∏ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤–µ—Å–æ–≤.</li>
                <li><span class="accent-text" style="color: var(--accent-primary);">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π:</span> –†–∞–±–æ—Ç–∞ –Ω–∞ —Å–∏–ª—É, –±–æ–ª—å—à–∏–µ –≤–µ—Å–∞.</li>
            </ul>
        </div>
        <div class="info-card">
            <h3>–°–æ–≤–µ—Ç—ã</h3>
            <p>–ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ –≤–æ–¥—É –∏ —Å–æ–Ω. –ú—ã—à—Ü—ã —Ä–∞—Å—Ç—É—Ç –Ω–µ –Ω–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ, –∞ –≤–æ –≤—Ä–µ–º—è –æ—Ç–¥—ã—Ö–∞.</p>
        </div>
    </div>

  </div>
  
  <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
  <nav class="tab-bar">
    <a href="index.html" class="tab-item">
      <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
      <span>Home</span>
    </a>
    <a href="profile.html" class="tab-item">
      <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>
      <span>Stats</span>
    </a>
    <a href="info.html" class="tab-item active">
      <svg class="tab-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="16" x2="12" y2="12"/><line x1="12" y1="8" x2="12.01" y2="8"/></svg>
      <span>Tools</span>
    </a>
  </nav>

  <script src="js/app.js"></script>
  <script src="js/tools.js"></script>
  <script>
    initApp();
    
    function showCalc(id) {
        // –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ
        document.getElementById('section-tdee').style.display = 'none';
        document.getElementById('section-bmi').style.display = 'none';
        document.getElementById('section-info').style.display = 'none';
        
        // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
        const btns = document.querySelectorAll('.tab-btn');
        btns.forEach(b => b.classList.remove('active'));
        
        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –Ω—É–∂–Ω—ã–π –∏ –∫—Ä–∞—Å–∏–º –∫–Ω–æ–ø–∫—É
        document.getElementById('section-' + id).style.display = 'block';
        event.target.classList.add('active');
    }
  </script>
</body>
</html>
