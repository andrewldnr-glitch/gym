/*
  FitGym — Neon Dashboard Redesign (v3)
  Stack: HTML/CSS/JS (no frameworks)

  Goals:
  - Conceptually new UI: dark glass dashboard + neon accents (A×B)
  - Design-system driven: tokens -> components -> pages
  - Accessible focus, reduced motion, graceful blur fallback
*/

/* =========================================================
   1) TOKENS
   ========================================================= */

:root{
  --font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";

  /* Radii */
  --radius-xl: 28px;
  --radius-lg: 22px;
  --radius-md: 16px;
  --radius-sm: 12px;

  /* Spacing */
  --container-padding: 18px;
  --space-1: 4px;
  --space-2: 8px;
  --space-3: 12px;
  --space-4: 16px;
  --space-5: 20px;
  --space-6: 24px;
  --space-7: 32px;

  /* Background */
  --bg-primary: #05060a;
  --bg-secondary: #0b0d14;

  /* Glass surfaces */
  --surface-1: rgba(14, 16, 24, 0.58);
  --surface-2: rgba(18, 20, 30, 0.68);
  --surface-3: rgba(22, 24, 38, 0.78);

  /* Text */
  --text-primary: rgba(255,255,255,0.96);
  --text-secondary: rgba(255,255,255,0.66);
  --text-tertiary: rgba(255,255,255,0.46);

  /* Borders */
  --border: rgba(255,255,255,0.10);
  --border-strong: rgba(255,255,255,0.16);

  /* Accent palette (distinct from the previous OPAL indigo-heavy theme) */
  --accent-primary: #ff3b6b;   /* neon coral/pink */
  --accent-secondary: #8b5cf6; /* purple */
  --accent-tertiary: #22d3ee;  /* cyan */
  --accent-lime: #34d399;
  --accent-amber: #f59e0b;
  --accent-red: #ff4d4d;

  /* Gradients */
  --grad-hot: linear-gradient(135deg, rgba(255,59,107,1) 0%, rgba(139,92,246,1) 55%, rgba(34,211,238,1) 100%);
  --grad-primary: linear-gradient(135deg, rgba(255,59,107,1) 0%, rgba(139,92,246,1) 100%);
  --grad-cool: linear-gradient(135deg, rgba(34,211,238,1) 0%, rgba(99,102,241,1) 100%);

  /* Glows */
  --glow-hot: rgba(255, 59, 107, 0.28);
  --glow-purple: rgba(139, 92, 246, 0.26);
  --glow-cyan: rgba(34, 211, 238, 0.24);
  --glow-soft: rgba(255,255,255,0.08);

  /* Shadows */
  --shadow-card: 0 24px 70px rgba(0,0,0,0.58);
  --shadow-soft: 0 18px 44px rgba(0,0,0,0.48);
  --shadow-elev: 0 10px 28px rgba(0,0,0,0.40);

  /* Blur (keep moderate for perf) */
  --glass-blur: 16px;
  --glass-saturate: 155%;

  /* Focus */
  --focus-ring: rgba(34, 211, 238, 0.70);
  --focus-glow: rgba(34, 211, 238, 0.22);

  /* Divider */
  --divider: rgba(255,255,255,0.10);

  /* Charts */
  --chart-1: var(--accent-tertiary);
  --chart-2: var(--accent-secondary);
  --chart-3: var(--accent-primary);
  --chart-4: var(--accent-lime);
  --chart-5: var(--accent-amber);

  /* CTA */
  --cta-gradient: var(--grad-hot);

  /* Muted icons */
  --icon-muted: rgba(255,255,255,0.78);
}

html[data-theme="light"]{
  --bg-primary: #f6f7fb;
  --bg-secondary: #ffffff;

  --surface-1: rgba(255,255,255,0.70);
  --surface-2: rgba(255,255,255,0.84);
  --surface-3: rgba(255,255,255,0.92);

  --text-primary: rgba(11, 16, 32, 0.92);
  --text-secondary: rgba(11, 16, 32, 0.62);
  --text-tertiary: rgba(11, 16, 32, 0.46);

  --border: rgba(11, 16, 32, 0.10);
  --border-strong: rgba(11, 16, 32, 0.16);

  --shadow-card: 0 24px 70px rgba(16, 24, 40, 0.14);
  --shadow-soft: 0 18px 44px rgba(16, 24, 40, 0.10);
  --shadow-elev: 0 10px 28px rgba(16, 24, 40, 0.08);

  --glass-blur: 14px;
  --glass-saturate: 135%;

  --focus-ring: rgba(99,102,241,0.55);
  --focus-glow: rgba(99,102,241,0.14);

  --icon-muted: rgba(11, 16, 32, 0.70);
}

/* =========================================================
   2) BASE
   ========================================================= */

*{ box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

html{ color-scheme: dark; }
html[data-theme="light"]{ color-scheme: light; }

:where(a, button, input, textarea, select, summary){ outline: none; }
:where(a, button, input, textarea, select, summary):focus-visible{
  outline: 2px solid var(--focus-ring);
  outline-offset: 3px;
  box-shadow: 0 0 0 6px var(--focus-glow);
}

@media (prefers-reduced-motion: reduce){
  *, *::before, *::after{
    animation-duration: 0.001ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.001ms !important;
    scroll-behavior: auto !important;
  }
}

body{
  margin: 0;
  padding: 0;
  font-family: var(--font-family);
  color: var(--text-primary);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;

  background:
    radial-gradient(900px 600px at 20% 10%, rgba(139,92,246,0.22), transparent 60%),
    radial-gradient(900px 650px at 80% 85%, rgba(255,59,107,0.18), transparent 62%),
    radial-gradient(700px 520px at 50% 50%, rgba(34,211,238,0.12), transparent 70%),
    linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
  background-attachment: fixed;
}

/* Grid + vignette (conceptually different from the previous “blob float” background) */
body::after{
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  background:
    radial-gradient(1200px 900px at 50% 20%, rgba(255,255,255,0.05), transparent 60%),
    radial-gradient(1100px 820px at 50% 86%, rgba(0,0,0,0.75), transparent 62%),
    repeating-linear-gradient(0deg, rgba(255,255,255,0.04) 0 1px, transparent 1px 44px),
    repeating-linear-gradient(90deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 44px);
  opacity: 0.55;
  mask-image: radial-gradient(circle at 50% 18%, black 0 62%, transparent 78%);
  -webkit-mask-image: radial-gradient(circle at 50% 18%, black 0 62%, transparent 78%);
}

html[data-theme="light"] body::after{
  opacity: 0.30;
  background:
    radial-gradient(1200px 900px at 50% 20%, rgba(0,0,0,0.04), transparent 60%),
    radial-gradient(1100px 820px at 50% 86%, rgba(0,0,0,0.20), transparent 62%),
    repeating-linear-gradient(0deg, rgba(11,16,32,0.06) 0 1px, transparent 1px 44px),
    repeating-linear-gradient(90deg, rgba(11,16,32,0.05) 0 1px, transparent 1px 44px);
}

.container{
  width: 100%;
  max-width: 640px;
  margin: 0 auto;
  padding: var(--container-padding);
}

h1, h2, h3{
  margin: 0;
  letter-spacing: -0.02em;
}

h1{ font-size: 1.75rem; font-weight: 920; }

p{ margin: 0; color: var(--text-secondary); }

a{ color: inherit; }

/* Utility */
.overline{
  font-size: 0.72rem;
  font-weight: 860;
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: var(--text-tertiary);
}

.chip{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 7px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text-secondary);
  font-weight: 800;
  font-size: 0.78rem;
}

.divider{
  height: 1px;
  background: var(--divider);
  opacity: 0.9;
}

/* =========================================================
   3) HEADER
   ========================================================= */

.page-header{
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 14px;
  margin-bottom: 14px;
}

.page-title{ font-size: 1.55rem; font-weight: 920; }
.page-subtitle{ margin-top: 6px; color: var(--text-secondary); font-weight: 650; }

.back-btn,
.btn-back{
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.04);
  color: var(--text-secondary);
  text-decoration: none;
  font-weight: 850;
}

@media (hover:hover) and (pointer:fine){
  .back-btn:hover,
  .btn-back:hover{ color: var(--text-primary); border-color: var(--border-strong); }
}

/* =========================================================
   4) CARDS / SURFACES
   ========================================================= */

.card,
.stat-item,
.workout-card,
.course-card,
.info-card,
.chart-container{
  position: relative;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  background: var(--surface-1);
  box-shadow: var(--shadow-card);
  overflow: hidden;
}

@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .card,
  .stat-item,
  .workout-card,
  .course-card,
  .info-card,
  .chart-container{
    backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
    -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  }
}

/* Subtle inner highlight */
.card::before,
.stat-item::before,
.workout-card::before,
.course-card::before,
.info-card::before,
.chart-container::before{
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(600px 200px at 22% 0%, rgba(255,255,255,0.10), transparent 55%),
    radial-gradient(520px 220px at 86% 10%, rgba(34,211,238,0.10), transparent 60%);
  opacity: 0.55;
  pointer-events: none;
}

/* Neon hairline border */
.card::after{
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgba(34,211,238,0.24), rgba(139,92,246,0.20), rgba(255,59,107,0.18));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0.65;
  pointer-events: none;
}

.card{
  padding: 16px;
  margin-bottom: 12px;
  text-decoration: none;
  color: inherit;
}

@media (hover:hover) and (pointer:fine){
  .card:hover{ box-shadow: var(--shadow-soft); transform: translateY(-1px); transition: transform 160ms ease, box-shadow 160ms ease; }
}

.card-title{
  display:flex;
  align-items:center;
  justify-content: space-between;
  gap: 12px;
  font-weight: 900;
  font-size: 1.02rem;
  margin-bottom: 8px;
}

.card-desc{ color: var(--text-secondary); font-size: 0.92rem; margin-bottom: 10px; }

.card-badge{
  display:inline-flex;
  align-items:center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  font-size: 0.72rem;
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing: 0.10em;
  color: var(--text-secondary);
}

.badge-easy{ color: var(--accent-lime); }
.badge-medium{ color: var(--accent-tertiary); }
.badge-hard{ color: var(--accent-primary); }

.level-badge{
  padding: 7px 12px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text-secondary);
  font-weight: 900;
  font-size: 0.78rem;
}

/* =========================================================
   5) BUTTONS
   ========================================================= */

.btn-main,
.start-course-btn,
.start-btn,
.btn-add-weight,
.btn-share-result,
.btn-control{
  border: none;
  cursor: pointer;
  font-weight: 920;
  border-radius: 999px;
  transition: transform 120ms ease, filter 180ms ease, opacity 180ms ease, box-shadow 180ms ease;
}

.btn-main,
.start-course-btn,
.start-btn{
  width: 100%;
  padding: 16px 18px;
  background: var(--cta-gradient);
  color: #fff;
  box-shadow: 0 18px 48px rgba(255,59,107,0.18), 0 12px 34px rgba(139,92,246,0.12);
}

.btn-main:active,
.start-course-btn:active,
.start-btn:active{ transform: scale(0.985); }

.btn-ghost{
  width: 100%;
  padding: 14px 18px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text-primary);
  font-weight: 900;
  cursor: pointer;
  box-shadow: var(--shadow-elev);
}

.btn-ghost:active{ transform: scale(0.99); }

.btn-state-primary{ background: var(--cta-gradient) !important; color:#fff !important; }
.btn-state-neutral{ background: rgba(255,255,255,0.06) !important; border: 1px solid var(--border) !important; color: var(--text-primary) !important; }

/* Compact action buttons (training controls) */
.control-buttons{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
  margin-top: 14px;
}

.btn-control{
  height: 52px;
  border-radius: 18px;
  background: rgba(255,255,255,0.06);
  border: 1px solid var(--border);
  color: var(--text-primary);
}

.btn-control.btn-action{
  background: var(--grad-cool);
  box-shadow: 0 16px 40px rgba(34,211,238,0.18);
}

.btn-control.btn-skip{
  background: rgba(255,255,255,0.05);
  color: var(--text-secondary);
}

/* =========================================================
   6) INPUTS / SEARCH
   ========================================================= */

.search-bar{ margin-bottom: 14px; }

.input-search,
input[type="text"],
input[type="search"],
input[type="number"],
select{
  width: 100%;
  height: 46px;
  border-radius: 16px;
  padding: 0 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text-primary);
  font-weight: 750;
}

input::placeholder{ color: var(--text-tertiary); font-weight: 700; }

/* =========================================================
   7) FILTER TABS / PILLS
   ========================================================= */

.filter-tabs{
  display:flex;
  gap: 10px;
  margin-bottom: 14px;
  overflow-x: auto;
  padding-bottom: 6px;
  -webkit-overflow-scrolling: touch;
}

.filter-btn{
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  color: var(--text-secondary);
  padding: 9px 14px;
  border-radius: 999px;
  font-size: 0.90rem;
  font-weight: 860;
  cursor:pointer;
  white-space: nowrap;
}

.filter-btn.active{
  border-color: rgba(34,211,238,0.38);
  background: rgba(34,211,238,0.10);
  color: var(--text-primary);
  box-shadow: 0 12px 30px rgba(34,211,238,0.10);
}

/* =========================================================
   8) GRIDS / LISTS
   ========================================================= */

.workouts-grid,
.courses-grid,
.tools-grid,
.badges-grid{
  display: grid;
  gap: 12px;
}

.loading-state,
.empty-state,
.error-state{
  padding: 16px;
  border-radius: var(--radius-lg);
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.04);
  color: var(--text-secondary);
  text-align: center;
}

/* =========================================================
   9) TAB BAR (floating dock)
   ========================================================= */

.tab-bar{
  position: fixed;
  left: 50%;
  transform: translateX(-50%);
  bottom: 14px;
  width: min(620px, calc(100% - 28px));
  height: 74px;
  border-radius: 26px;
  border: 1px solid var(--border);
  background: rgba(14,16,24,0.68);
  box-shadow: 0 30px 90px rgba(0,0,0,0.60);
  display:flex;
  align-items:center;
  justify-content: space-around;
  padding: 10px 10px 12px;
  z-index: 110;
}

@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .tab-bar{
    backdrop-filter: blur(20px) saturate(165%);
    -webkit-backdrop-filter: blur(20px) saturate(165%);
  }
}

.tab-item{
  position: relative;
  flex: 1;
  display:flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 6px;
  text-decoration: none;
  color: var(--text-tertiary);
  font-weight: 860;
  font-size: 0.74rem;
  min-width: 72px;
}

.tab-icon,
.tab-item svg,
.tab-item i{
  width: 22px;
  height: 22px;
  color: var(--icon-muted);
  opacity: 0.95;
}

.tab-item.active{
  color: var(--text-primary);
}

.tab-item.active::before{
  content:"";
  position:absolute;
  width: 42px;
  height: 42px;
  border-radius: 16px;
  top: 6px;
  background: radial-gradient(circle at 30% 30%, rgba(34,211,238,0.18), transparent 58%),
              radial-gradient(circle at 70% 70%, rgba(255,59,107,0.14), transparent 62%);
  filter: blur(0px);
  z-index: -1;
}

.tab-item.active svg,
.tab-item.active i{
  color: var(--accent-tertiary);
  filter: drop-shadow(0 0 14px rgba(34,211,238,0.28));
}

body.has-tab-bar .container{ padding-bottom: 118px; }

/* =========================================================
   10) MODALS
   ========================================================= */

.modal-overlay{
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  padding: 18px;
  background: rgba(0,0,0,0.62);
  z-index: 120;
}

.modal-overlay.active,
.modal-overlay[style*="display: flex"],
.modal-overlay[style*="display:flex"],
.modal-overlay[style*="display: grid"],
.modal-overlay[style*="display:grid"]{
  display: flex;
}

.modal-content{
  width: 100%;
  max-width: 520px;
  border-radius: var(--radius-xl);
  border: 1px solid var(--border);
  background: var(--surface-2);
  box-shadow: 0 30px 120px rgba(0,0,0,0.65);
  padding: 18px;
  position: relative;
  overflow: hidden;
}

@supports ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .modal-content{
    backdrop-filter: blur(22px) saturate(165%);
    -webkit-backdrop-filter: blur(22px) saturate(165%);
  }
}

.modal-content::after{
  content:"";
  position:absolute;
  inset: 0;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, rgba(34,211,238,0.28), rgba(139,92,246,0.22), rgba(255,59,107,0.18));
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0.85;
  pointer-events:none;
}

.modal-close{
  position: absolute;
  right: 12px;
  top: 12px;
  width: 40px;
  height: 40px;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  color: var(--text-primary);
  font-weight: 900;
  cursor: pointer;
}

.modal-title{ margin: 10px 0 6px; font-weight: 950; }
.modal-desc{ color: var(--text-secondary); margin-bottom: 12px; }

.modal-info-blocks{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 12px;
}

.info-block{
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.05);
  padding: 12px;
}

.info-block .label{ display:block; color: var(--text-tertiary); font-weight: 850; font-size: 0.72rem; letter-spacing: 0.12em; text-transform: uppercase; }
.info-block .value{ display:block; margin-top: 6px; font-weight: 950; }

.modal-advice-box{
  border-radius: 18px;
  border: 1px solid rgba(255,59,107,0.22);
  background: linear-gradient(135deg, rgba(255,59,107,0.12), rgba(139,92,246,0.10));
  padding: 12px;
  margin-bottom: 12px;
}

.modal-advice-box .label{ font-weight: 920; color: var(--text-secondary); margin-bottom: 4px; }

/* =========================================================
   11) TRAINING TIMER (training.html)
   ========================================================= */

.timer-circle-container{
  width: 100%;
  max-width: 360px;
  margin: 18px auto 8px;
  position: relative;
}

.timer-svg{ width: 100%; height: auto; display:block; }

.timer-bg{
  fill: none;
  stroke: rgba(255,255,255,0.10);
  stroke-width: 14;
}

.timer-progress{
  fill: none;
  stroke: url(#timerGradExercise);
  stroke-width: 14;
  stroke-linecap: round;
  stroke-dasharray: 565;
  stroke-dashoffset: 565;
  filter: drop-shadow(0 0 18px rgba(34,211,238,0.24));
  transition: stroke-dashoffset 500ms ease;
}

.timer-text{
  position: absolute;
  inset: 0;
  display: grid;
  place-items: center;
  text-align: center;
}

.timer-seconds{
  font-size: 3.2rem;
  font-weight: 980;
  letter-spacing: -0.03em;
}

.timer-label{
  margin-top: 6px;
  font-size: 0.82rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--text-tertiary);
  font-weight: 900;
}

.current-exercise-name{ font-size: 1.45rem; font-weight: 950; margin: 6px 0 2px; }
.current-exercise-meta{ color: var(--text-secondary); font-weight: 850; }

.music-fab{
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.06);
  box-shadow: var(--shadow-elev);
}

/* =========================================================
   12) DASHBOARD (home)
   ========================================================= */

.dash-hero{
  padding: 18px;
  border-radius: var(--radius-xl);
  background: linear-gradient(135deg, rgba(255,59,107,0.14), rgba(34,211,238,0.08));
  border: 1px solid rgba(255,255,255,0.10);
  box-shadow: 0 30px 110px rgba(0,0,0,0.55);
  position: relative;
  overflow: hidden;
}

.dash-hero::before{
  content:"";
  position:absolute;
  inset: -40px;
  background:
    radial-gradient(420px 320px at 30% 20%, rgba(34,211,238,0.20), transparent 60%),
    radial-gradient(420px 320px at 70% 80%, rgba(255,59,107,0.18), transparent 60%);
  filter: blur(18px);
  opacity: 0.9;
  pointer-events:none;
}

.hero-row{
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 14px;
}

.hero-orb{
  width: 92px;
  height: 92px;
  border-radius: 28px;
  background:
    radial-gradient(circle at 30% 30%, rgba(255,255,255,0.25), transparent 45%),
    radial-gradient(circle at 70% 70%, rgba(34,211,238,0.22), transparent 55%),
    radial-gradient(circle at 40% 80%, rgba(139,92,246,0.22), transparent 60%),
    radial-gradient(circle at 70% 20%, rgba(255,59,107,0.18), transparent 55%),
    rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.14);
  box-shadow: 0 20px 60px rgba(0,0,0,0.48);
}

.hero-metric{
  position: relative;
  display: grid;
  gap: 6px;
  flex: 1;
}

.hero-value{
  font-size: 3.0rem;
  font-weight: 1000;
  letter-spacing: -0.04em;
  line-height: 1;
}

.hero-label{ color: var(--text-secondary); font-weight: 820; }

.kpi-row{
  position: relative;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 14px;
}

.kpi-mini{
  border-radius: 18px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.05);
  padding: 12px;
  text-align: left;
}

.kpi-mini .k{ display:block; font-size: 0.70rem; text-transform: uppercase; letter-spacing: 0.14em; color: var(--text-tertiary); font-weight: 900; }
.kpi-mini .v{ display:block; margin-top: 6px; font-size: 1.20rem; font-weight: 980; }

.week-bars{
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
  align-items: end;
  height: 88px;
  margin-top: 12px;
}

.week-bar{
  width: 100%;
  border-radius: 10px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.10);
  position: relative;
  overflow: hidden;
}

.week-bar > i{
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: 40%;
  background: var(--grad-cool);
  box-shadow: 0 12px 30px rgba(34,211,238,0.14);
}

.week-bar-labels{
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 8px;
  margin-top: 8px;
  font-size: 0.70rem;
  color: var(--text-tertiary);
  text-align: center;
  letter-spacing: 0.10em;
  text-transform: uppercase;
  font-weight: 900;
}

.progress-track{
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.10);
  overflow: hidden;
}

.progress-fill{
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: var(--grad-hot);
  box-shadow: 0 14px 36px rgba(255,59,107,0.14);
  transition: width 650ms ease;
}

/* =========================================================
   13) FALLBACK FOR NO BLUR
   ========================================================= */

@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))){
  .card,
  .stat-item,
  .workout-card,
  .course-card,
  .info-card,
  .chart-container,
  .modal-content,
  .tab-bar{
    background: rgba(10, 12, 18, 0.94);
  }
}


/* =========================================================
   V2 — NEON DASHBOARD REDESIGN (Conceptual overhaul)
   Hybrid A×B: аналитическая структура + точечный neon/glow

   Важно:
   - Не ломаем существующие классы/страницы
   - Переопределяем токены + основные компоненты
   - Стараемся держать эффекты лёгкими (perf)
   ========================================================= */

:root{
  /* Radii (новая геометрия) */
  --radius-lg: 24px;
  --radius-md: 16px;
  --radius-sm: 12px;

  /* Background */
  --bg-primary: #05050a;
  --bg-secondary: #0a0b12;
  --bg-card: rgba(255,255,255,0.045);

  /* Text */
  --text-primary: rgba(250, 251, 255, 0.96);
  --text-secondary: rgba(250, 251, 255, 0.62);

  /* Borders / dividers */
  --border-light: rgba(255,255,255,0.10);
  --divider: rgba(255,255,255,0.10);

  /* Accents (не OPAL — новая палитра) */
  --accent-primary: #ff3b8d;   /* neon pink */
  --accent-secondary: #7c5cff; /* neon violet */
  --accent-tertiary: #24d6ff;  /* neon cyan */

  --accent-pink: var(--accent-primary);
  --accent-violet: var(--accent-secondary);
  --accent-cyan: var(--accent-tertiary);
  --accent-lime: #00e676;
  --accent-warm: #ff9f0a;
  --accent-red: #ff453a;

  --glow-pink: rgba(255, 59, 141, 0.28);
  --glow-violet: rgba(124, 92, 255, 0.26);
  --glow-cyan: rgba(36, 214, 255, 0.22);
  --glow-lime: rgba(0, 230, 118, 0.18);
  --glow-warm: rgba(255, 159, 10, 0.18);

  /* Surfaces */
  --surface-1: rgba(10, 11, 18, 0.62);
  --surface-2: rgba(255, 255, 255, 0.07);
  --surface-3: rgba(255, 255, 255, 0.10);

  /* Glass */
  --glass-blur: 22px;
  --glass-saturate: 170%;
  --glass-brightness: 120%;

  /* Shadows */
  --shadow-card: 0 26px 80px rgba(0,0,0,0.62);
  --shadow-soft: 0 34px 120px rgba(0,0,0,0.72);
  --shadow-elev: 0 16px 50px rgba(0,0,0,0.55);

  /* Border gradient (неон) */
  --border-gradient: conic-gradient(from 210deg at 50% 50%,
    rgba(255,59,141,0.75),
    rgba(124,92,255,0.70),
    rgba(36,214,255,0.62),
    rgba(255,159,10,0.45),
    rgba(255,59,141,0.75)
  );

  /* CTA */
  --cta-gradient: linear-gradient(135deg,
    rgba(255,59,141,1) 0%,
    rgba(124,92,255,1) 52%,
    rgba(36,214,255,1) 100%
  );

  /* Focus */
  --focus-ring: rgba(36, 214, 255, 0.60);
  --focus-glow: rgba(36, 214, 255, 0.18);
}

html[data-theme="light"]{
  --bg-primary: #f6f7ff;
  --bg-secondary: #ffffff;
  --bg-card: rgba(255,255,255,0.86);

  --text-primary: rgba(10, 12, 18, 0.92);
  --text-secondary: rgba(10, 12, 18, 0.60);

  --border-light: rgba(10,12,18,0.10);
  --divider: rgba(10,12,18,0.10);

  --surface-1: rgba(255, 255, 255, 0.78);
  --surface-2: rgba(255, 255, 255, 0.92);
  --surface-3: rgba(255, 255, 255, 0.98);

  --shadow-card: 0 18px 55px rgba(16,24,40,0.14);
  --shadow-soft: 0 30px 90px rgba(16,24,40,0.16);
  --shadow-elev: 0 12px 34px rgba(16,24,40,0.12);

  --glow-pink: rgba(255, 59, 141, 0.18);
  --glow-violet: rgba(124, 92, 255, 0.16);
  --glow-cyan: rgba(36, 214, 255, 0.14);
}

/* Base background: aurora + grid (совсем другой, чем раньше) */
body{
  background:
    radial-gradient(1100px 700px at 15% 10%, rgba(255,59,141,0.14), transparent 60%),
    radial-gradient(900px 620px at 90% 18%, rgba(36,214,255,0.10), transparent 58%),
    radial-gradient(1000px 760px at 50% 110%, rgba(124,92,255,0.16), transparent 62%),
    linear-gradient(180deg, #05050a 0%, #070817 55%, #04040a 100%);
  background-attachment: fixed;
}

html[data-theme="light"] body{
  background:
    radial-gradient(1100px 700px at 12% 10%, rgba(255,59,141,0.10), transparent 60%),
    radial-gradient(900px 620px at 88% 18%, rgba(36,214,255,0.08), transparent 58%),
    radial-gradient(1000px 760px at 50% 112%, rgba(124,92,255,0.10), transparent 62%),
    linear-gradient(180deg, #ffffff 0%, #f6f7ff 55%, #f2f4ff 100%);
}

/* Override old blobs with grid + vignette */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;

  /* grid */
  background:
    repeating-linear-gradient(
      0deg,
      rgba(255,255,255,0.05) 0,
      rgba(255,255,255,0.05) 1px,
      transparent 1px,
      transparent 28px
    ),
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,0.05) 0,
      rgba(255,255,255,0.05) 1px,
      transparent 1px,
      transparent 28px
    );

  opacity: 0.12;
  transform: translateZ(0);
}

html[data-theme="light"] body::before{
  background:
    repeating-linear-gradient(
      0deg,
      rgba(10,12,18,0.08) 0,
      rgba(10,12,18,0.08) 1px,
      transparent 1px,
      transparent 28px
    ),
    repeating-linear-gradient(
      90deg,
      rgba(10,12,18,0.08) 0,
      rgba(10,12,18,0.08) 1px,
      transparent 1px,
      transparent 28px
    );
  opacity: 0.10;
}

body::after{
  content:"";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(1200px 900px at 50% 18%, rgba(255,255,255,0.08), transparent 55%),
    radial-gradient(1300px 950px at 50% 78%, rgba(0,0,0,0.68), transparent 62%),
    radial-gradient(1600px 1200px at 50% 50%, rgba(0,0,0,0.55), transparent 72%);
}

html[data-theme="light"] body::after{
  background:
    radial-gradient(1200px 900px at 50% 18%, rgba(255,255,255,0.55), transparent 58%),
    radial-gradient(1400px 1000px at 50% 78%, rgba(10,12,18,0.10), transparent 62%);
}

/* Typography: более "дашбордная" */
h1, h2, h3{ font-variant-numeric: tabular-nums; }

h1{
  font-size: 2.05rem;
  font-weight: 950;
  letter-spacing: -0.02em;
}

h2{
  font-size: 1.35rem;
  font-weight: 900;
  letter-spacing: -0.01em;
}

p{ color: var(--text-secondary); }

/* Layout */
.container{
  max-width: 640px;
  padding: 18px;
}

.has-tab-bar .container{
  padding-bottom: 92px; /* место под новый floating dock */
}

/* =========================================================
   NEW COMPONENT LAYER
   ========================================================= */

/* Small UI helpers */
.kicker{
  display: inline-block;
  font-size: 0.72rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  font-weight: 900;
  color: var(--text-secondary);
}

.icon{
  width: 20px;
  height: 20px;
}

.icon-chip{
  width: 44px;
  height: 44px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  color: var(--text-primary);
  text-decoration: none;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(10,11,18,0.55);
  box-shadow: var(--shadow-elev);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
}

html[data-theme="light"] .icon-chip{
  background: rgba(255,255,255,0.75);
  border-color: rgba(10,12,18,0.10);
}

.dash-header{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  margin-top: 6px;
  margin-bottom: 14px;
}

.dash-h1{ margin: 6px 0 0; }

.dash-sub{
  margin-top: 4px;
  font-weight: 700;
  font-size: 0.95rem;
}

.dash-actions{
  display:flex;
  gap: 10px;
  align-items:center;
}

/* Widget = новый базовый "glass panel" */
.widget{
  position: relative;
  padding: 16px;
  border-radius: var(--radius-lg);
  border: 1px solid transparent;
  color: inherit;

  background:
    linear-gradient(var(--surface-1), var(--surface-1)) padding-box,
    var(--border-gradient) border-box;

  box-shadow: var(--shadow-card);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate)) brightness(var(--glass-brightness));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate)) brightness(var(--glass-brightness));
  overflow: hidden;
}

.widget::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  background:
    radial-gradient(900px 260px at 50% 0%, rgba(255,255,255,0.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.06), transparent 55%);
  opacity: 0.55;
}

html[data-theme="light"] .widget::after{
  background:
    radial-gradient(900px 260px at 50% 0%, rgba(10,12,18,0.06), transparent 60%),
    linear-gradient(180deg, rgba(10,12,18,0.05), transparent 55%);
  opacity: 0.42;
}

.widget + .widget{ margin-top: 12px; }

.widget-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap: 12px;
  position: relative;
  z-index: 1;
}

.widget-title{
  font-weight: 950;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-size: 0.76rem;
  color: var(--text-secondary);
}

.widget-hint{
  font-weight: 800;
  font-size: 0.9rem;
  margin-top: 6px;
}

.widget-note{
  margin-top: 10px;
  font-weight: 750;
  font-size: 0.92rem;
}

/* Pills */
.pill{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 8px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.06);
  color: var(--text-primary);
  font-weight: 900;
  font-size: 0.82rem;
  text-decoration: none;
  white-space: nowrap;
  position: relative;
  z-index: 1;
}

html[data-theme="light"] .pill{
  border-color: rgba(10,12,18,0.10);
  background: rgba(10,12,18,0.04);
}

.pill--primary{
  border: 1px solid transparent;
  background:
    linear-gradient(rgba(0,0,0,0.18), rgba(0,0,0,0.18)) padding-box,
    var(--cta-gradient) border-box;
  box-shadow: 0 14px 32px var(--glow-violet);
}

.status-pill{
  display:inline-flex;
  align-items:center;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 950;
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(10,11,18,0.42);
  color: var(--text-secondary);
  position: relative;
  z-index: 1;
}

html[data-theme="light"] .status-pill{
  background: rgba(255,255,255,0.65);
  border-color: rgba(10,12,18,0.10);
}

/* Dash layout */
.dash{ display:block; }

/* HERO */
.hero-core{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 14px;
  margin-top: 14px;
  position: relative;
  z-index: 1;
}

.hero-orb{
  width: 132px;
  height: 132px;
  border-radius: 999px;
  flex-shrink: 0;
  position: relative;
  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,0.22), transparent 42%),
    radial-gradient(circle at 62% 68%, rgba(36,214,255,0.22), transparent 58%),
    conic-gradient(from 210deg,
      rgba(255,59,141,0.85),
      rgba(124,92,255,0.80),
      rgba(36,214,255,0.70),
      rgba(255,159,10,0.40),
      rgba(255,59,141,0.85)
    );
  box-shadow:
    0 26px 70px rgba(0,0,0,0.70),
    0 0 60px var(--glow-violet),
    0 0 30px var(--glow-cyan);
}

.hero-orb::before{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: inherit;
  background: radial-gradient(circle at 38% 28%, rgba(255,255,255,0.20), transparent 60%);
  filter: blur(0.2px);
  opacity: 0.9;
}

.hero-orb::after{
  content:"";
  position:absolute;
  inset: -18px;
  border-radius: inherit;
  background: radial-gradient(circle at 50% 50%, rgba(124,92,255,0.22), transparent 62%);
  filter: blur(14px);
  opacity: 0.9;
}

@keyframes orbDrift{
  0%{ transform: translate3d(0,0,0) scale(1); }
  100%{ transform: translate3d(0,-8px,0) scale(1.02); }
}

@media (prefers-reduced-motion: no-preference){
  .hero-orb{ animation: orbDrift 3.6s ease-in-out infinite alternate; }
}

.hero-metric{ text-align:right; }

.metric{
  font-size: 3.0rem;
  font-weight: 1000;
  letter-spacing: -0.03em;
  line-height: 1;
}

.metric-sub{
  margin-top: 6px;
  font-weight: 900;
  font-size: 0.82rem;
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: var(--text-secondary);
}

.hero-kpis{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin-top: 14px;
  position: relative;
  z-index: 1;
}

.kpi{
  padding: 10px 10px;
  border-radius: var(--radius-md);
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
}

html[data-theme="light"] .kpi{
  border-color: rgba(10,12,18,0.10);
  background: rgba(10,12,18,0.04);
}

.kpi-label{
  font-size: 0.72rem;
  letter-spacing: 0.14em;
  text-transform: uppercase;
  font-weight: 900;
  color: var(--text-secondary);
}

.kpi-value{
  margin-top: 6px;
  font-size: 1.2rem;
  font-weight: 950;
}

.hero-progress{ margin-top: 14px; position: relative; z-index: 1; }

.progress-bar{
  height: 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  overflow: hidden;
}

html[data-theme="light"] .progress-bar{
  background: rgba(10,12,18,0.04);
  border-color: rgba(10,12,18,0.10);
}

.progress-fill{
  height: 100%;
  width: 0%;
  border-radius: inherit;
  background: var(--cta-gradient);
  box-shadow: 0 0 24px var(--glow-pink);
  transition: width 600ms ease;
}

.progress-meta{
  margin-top: 8px;
  color: var(--text-secondary);
  font-weight: 800;
  font-size: 0.9rem;
}

/* Mini chart */
.mini-chart{
  margin-top: 10px;
  border-radius: var(--radius-md);
  overflow: hidden;
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.10);
}

html[data-theme="light"] .mini-chart{
  background: rgba(10,12,18,0.03);
  border-color: rgba(10,12,18,0.10);
}

.mini-chart svg{ display:block; width:100%; height:92px; }

/* Note widget */
.note-text{
  margin-top: 12px;
  font-size: 0.98rem;
  font-weight: 750;
  color: var(--text-primary);
  line-height: 1.45;
  position: relative;
  z-index: 1;
}

/* Actions widget */
.widget--actions{ display:grid; gap: 10px; }

/* =========================================================
   Override legacy components (.card, buttons, tab-bar, modals)
   ========================================================= */

.card,
.stat-item,
.workout-card,
.course-card,
.info-card,
.chart-container{
  border-radius: var(--radius-lg) !important;
  background:
    linear-gradient(var(--surface-1), var(--surface-1)) padding-box,
    var(--border-gradient) border-box;
  border: 1px solid transparent !important;
  box-shadow: var(--shadow-card) !important;
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate)) brightness(var(--glass-brightness));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate)) brightness(var(--glass-brightness));
}

.card::before,
.stat-item::before,
.workout-card::before,
.course-card::before,
.info-card::before,
.chart-container::before{
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  border-radius: inherit;
  background:
    radial-gradient(800px 260px at 50% 0%, rgba(255,255,255,0.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,0.06), transparent 55%);
  opacity: 0.55;
}

html[data-theme="light"] .card::before,
html[data-theme="light"] .stat-item::before,
html[data-theme="light"] .workout-card::before,
html[data-theme="light"] .course-card::before,
html[data-theme="light"] .info-card::before,
html[data-theme="light"] .chart-container::before{
  background:
    radial-gradient(800px 260px at 50% 0%, rgba(10,12,18,0.06), transparent 60%),
    linear-gradient(180deg, rgba(10,12,18,0.05), transparent 55%);
  opacity: 0.42;
}

/* Buttons: более "неоновые" и менее OPAL */
.btn-main,
.start-course-btn,
.start-btn,
.btn-add-weight,
.btn-share-result{
  background: var(--cta-gradient) !important;
  box-shadow: 0 18px 44px var(--glow-violet) !important;
  position: relative;
  overflow: hidden;
}

.btn-main::before,
.start-course-btn::before,
.start-btn::before{
  content:"";
  position:absolute;
  inset: 0;
  background:
    radial-gradient(700px 180px at 30% 20%, rgba(255,255,255,0.25), transparent 55%),
    linear-gradient(180deg, rgba(255,255,255,0.10), transparent 58%);
  opacity: 0.70;
  pointer-events:none;
}

.btn-ghost{
  width: 100%;
  padding: 16px 18px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(10,11,18,0.45);
  color: var(--text-primary);
  font-weight: 900;
  cursor: pointer;
  box-shadow: var(--shadow-elev);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
}

html[data-theme="light"] .btn-ghost{
  background: rgba(255,255,255,0.75);
  border-color: rgba(10,12,18,0.10);
}

/* Filter pills */
.filter-tabs{
  padding: 10px;
  border-radius: var(--radius-lg);
  background: rgba(10,11,18,0.55);
  border: 1px solid rgba(255,255,255,0.12);
  box-shadow: var(--shadow-elev);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  gap: 8px;
}

html[data-theme="light"] .filter-tabs{
  background: rgba(255,255,255,0.75);
  border-color: rgba(10,12,18,0.10);
}

.filter-btn{
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(255,255,255,0.05);
  color: var(--text-secondary);
  font-weight: 900;
  letter-spacing: 0.08em;
  text-transform: uppercase;
  font-size: 0.70rem;
}

.filter-btn.active{
  border: 1px solid transparent;
  background:
    linear-gradient(rgba(0,0,0,0.18), rgba(0,0,0,0.18)) padding-box,
    var(--cta-gradient) border-box;
  color: rgba(255,255,255,0.96);
  box-shadow: 0 14px 32px var(--glow-pink);
}

html[data-theme="light"] .filter-btn{
  border-color: rgba(10,12,18,0.10);
  background: rgba(10,12,18,0.04);
}

/* Search */
.search-bar{ margin-top: 12px; }

.input-search{
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(10,11,18,0.55);
  color: var(--text-primary);
  box-shadow: var(--shadow-elev);
}

html[data-theme="light"] .input-search{
  background: rgba(255,255,255,0.80);
  border-color: rgba(10,12,18,0.10);
}

/* Modal */
.modal-overlay{
  background: rgba(0,0,0,0.62) !important;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.modal-content{
  border-radius: var(--radius-lg) !important;
  background:
    linear-gradient(var(--surface-1), var(--surface-1)) padding-box,
    var(--border-gradient) border-box;
  border: 1px solid transparent !important;
  box-shadow: var(--shadow-soft) !important;
}

/* Bottom Dock */
.tab-bar{
  position: fixed;
  left: 50%;
  bottom: 14px;
  transform: translateX(-50%);
  width: min(620px, calc(100% - 24px));
  padding: 10px 10px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;

  border-radius: 26px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(10,11,18,0.68);
  box-shadow: var(--shadow-soft);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
}

html[data-theme="light"] .tab-bar{
  background: rgba(255,255,255,0.82);
  border-color: rgba(10,12,18,0.10);
}

.tab-item{
  border-radius: 18px;
  padding: 10px 8px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 8px;
  color: var(--text-secondary);
  text-decoration: none;
  font-weight: 900;
}

.tab-item span{ font-size: 0.85rem; }

.tab-icon{ width: 20px; height: 20px; }

.tab-item.active{
  color: rgba(255,255,255,0.96);
  border: 1px solid transparent;
  background:
    linear-gradient(rgba(0,0,0,0.22), rgba(0,0,0,0.22)) padding-box,
    var(--cta-gradient) border-box;
  box-shadow: 0 16px 34px var(--glow-cyan);
}

html[data-theme="light"] .tab-item.active{
  color: rgba(10,12,18,0.92);
  background:
    linear-gradient(rgba(255,255,255,0.68), rgba(255,255,255,0.68)) padding-box,
    var(--cta-gradient) border-box;
}

/* Tiny tweak: some pages use .page-header with back link */
.page-header{
  margin-top: 6px;
  margin-bottom: 14px;
}

.back-btn,
.btn-back{
  font-weight: 900;
  letter-spacing: 0.06em;
  text-transform: uppercase;
  font-size: 0.78rem;
  opacity: 0.9;
}

/* Timer ring on trainings modal */
.timer-bg{ stroke: rgba(255,255,255,0.12) !important; }
/* В разных SVG могут быть разные <defs>. Не привязываемся к id градиента глобально. */
.timer-circle{ stroke: var(--accent-cyan) !important; }

/* Training page control buttons */
.btn-control{
  border-radius: 999px !important;
  border: 1px solid rgba(255,255,255,0.14) !important;
  background: rgba(10,11,18,0.55) !important;
  color: var(--text-primary) !important;
  font-weight: 950 !important;
  box-shadow: var(--shadow-elev) !important;
}

.btn-control.btn-action{
  border: 1px solid transparent !important;
  background:
    linear-gradient(rgba(0,0,0,0.18), rgba(0,0,0,0.18)) padding-box,
    var(--cta-gradient) border-box !important;
  box-shadow: 0 18px 44px var(--glow-violet) !important;
}

/* Ensure reduced motion also disables progress transitions */
@media (prefers-reduced-motion: reduce){
  .progress-fill{ transition: none !important; }
  .hero-orb{ animation: none !important; }
}
